<!DOCTYPE html>
<html ng-app="UK" ng-controller="middle">
	<head>
		<meta charset="UTF-8">
		<meta name="description" content="NejlepÅ¡Ã­ budovatelskÃ¡ hra na svÄ›tÄ›!">
		<meta name="author" content="JiÅ™Ã­ ZbytovskÃ½">
		<title>Ukradyjam: HD edition</title>
		<script>
// Do not execute this function unless you are a skilled H4CK0R!!!
var get_HACKER_achievement = function() {
	//DoufÃ¡me, Å¾e kyberÃºtoÄnÃ­k zapomene napsat zÃ¡vorky()
	game.hackTheSystem();
};
		</script>
		<script src="libs/angular.min.js"></script>
		<script src="app/misc.js" type="text/javascript"></script>
		<script src="app/data.js" type="text/javascript"></script>
		<script src="app/dataWis.js" type="text/javascript"></script>
		<script src="app/middle.js" type="text/javascript"></script>
		<script src="app/warView.js" type="text/javascript"></script>
		<script src="app/war.js" type="text/javascript"></script>
		<script src="app/game.js" type="text/javascript"></script>
		<script src="app/state.js" type="text/javascript"></script>
		<script src="app/directives.js" type="text/javascript"></script>
		<link rel="stylesheet" href="app/style.css">
		<link rel="shortcut icon" href="res/GUI/favicon.ico">
	</head>
	<body ng-keyup="listen4Esc($event)" ng-mousemove="mouseMove($event)" ng-mouseup="mouseUp($event)">

<div id="tooltip" ng-if="s.tooltip.visible" ng-style="s.tooltip.style">{{s.tooltip.message}}</div>

<div id="header">
	<a class="fakeLink" ng-click="window('intro2')">Ãšvod</a>
	<a class="fakeLink" ng-click="window('achievements')">Achievmenty</a>
	<a class="fakeLink" ng-click="window('options')">NastavenÃ­</a>
	<a class="fakeLink" ng-click="window('versions')">Verze {{version.join('.')}}</a>
</div>

<div ng-repeat="m in s.messages track by $index" class="popup" ng-style="getPopupStyle($index)">
	<p ng-repeat="l in m track by $index">{{l}}</p>
	<p style="text-align: center;"><input type="button" ng-click="s.messages.splice($index, 1)" value="OK" tooltip="Esc zavÅ™e, Del zavÅ™e VÅ ECHNY zprÃ¡vy"></p>
</div>

<!-- GAME BOX -->
<div id="gameContainer" ng-style="mergeStyles(['containerLeft', 'containerHeight', 'gameWidth'])" ng-switch="ctrl.window">

	<div ng-switch-when="intro">
		<div ng-include="'app/ng/intro.html'"></div>
		<p style="text-align: center;"><input type="button" ng-click="initGame();" value="ZAÄŒÃT HRU"></p>
	</div>

	<div ng-switch-when="intro2">
		<escape-win></escape-win>
		<div ng-include="'app/ng/intro.html'"></div>
	</div>

	<div ng-switch-when="achievements" ng-style="mergeStyles(['containerHeight', 'gameWidth'])" id="achievements">
		<escape-win></escape-win>
		<h1>Achievementy ğŸ†</h1>
		<div ng-if="getAchievementGoals().length > 0"><p>Tyto ÃºspÄ›chy mÅ¯Å¾ete splnit: <a class="fakeLink" ng-click="showTODO = !showTODO">{{showTODO ? 'SkrÃ½t' : 'Vypsat'}}</a></p>
		<ul ng-if="showTODO">
			<li ng-repeat="g in getAchievementGoals()">{{g}}</li>
		</ul></div>
		<hr>
		<p>SplnÄ›no {{s.achievements.length}}/{{getAchievementCount()}}, <i>kurzÃ­va znaÄÃ­ skrytÃ½ achievement</i>:</p>
		<div ng-repeat="a in s.achievements" ng-class="{secret: achs[a].secret}">
			<p><b>{{achs[a].name}}</b> ({{achs[a].description}})<br>
			{{achs[a].flavor}}</p>
			<p></p>
		</div>
	</div>

	<div ng-switch-when="options">
		<escape-win></escape-win>
		<h1>NastavenÃ­ ğŸ”§</h1>
		<p>Velikost okna <select ng-model="ctrl.zoom" ng-options="x for x in zoomOptions" ng-change="resize()"></select></p>
		<p>Zobrazit mÅ™Ã­Å¾ku bitevnÃ­ho pole <input type="checkbox" ng-model="ctrl.drawBattleGrid"></p>
		<p ng-if="s.p.unlockAutoodys">PokraÄovat odysseu automaticky <input type="checkbox" ng-model="ctrl.autoodys"></p>
		<p>ManuÃ¡lnÃ­ save do souboru
			<span fake-button onclick="saveService.manualSave()" download="Ukradyjam.json"
				tooltip="stÃ¡hnout soubor s daty vaÅ¡Ã­ Å™Ã­Å¡e">UloÅ¾it</span>
			<input type="file" id="fileUpload" file-upload class="hidden">
			<label fake-button for="fileUpload" tooltip="nahrÃ¡t soubor s daty vaÅ¡Ã­ Å™Ã­Å¡e">NaÄÃ­st</label>
		</p>
		<p>AutomatickÃ½ save
			<span fake-button onclick="confirm('Opravdu si pÅ™ejete smazat veÅ¡kerÃ¡ vaÅ¡e data v tÃ©to hÅ™e?') && saveService.purge()" tooltip="resetovat hru">Smazat</span>
		</p>
	</div>

	<div ng-switch-when="versions">
		<escape-win></escape-win>
		<h1>Historie Ukradyjamu ğŸ“œ</h1>
		<p>Tento seznam pouze shrnuje nejvÃ½znamÄ›jÅ¡Ã­ zmÄ›ny v dÅ¯leÅ¾itÃ½ch verzÃ­ch. Pokud VÃ¡s zajÃ­mÃ¡ zdrojovÃ½ kÃ³d aplikace vÄetnÄ› jeho vÃ½voje,
			navÅ¡tivte GitHub <a href="https://github.com/Lemonexe/ukradyjam-hd" target="_blank">repozitÃ¡Å™</a>.</p>
		<ul>
			<li><b>1.2.0</b> (05.06.2021) pÅ™idÃ¡na <b>Odysseia</b></li>
			<li><b>1.1.6</b> (26.04.2020) pÅ™idÃ¡n Oktoberfest</li>
			<li><b>1.1.0</b> (07.06.2019) zvÄ›tÅ¡eno bojiÅ¡tÄ›</li>
			<li><b>1.0.3</b> (14.05.2019) poslednÃ­ vÃ½zkum</li>
			<li><b>1.0.0</b> (04.05.2019) <b>oficiÃ¡lnÃ­ release</b></li>
			<li><b>0.2.0</b> (21.04.2019) pÅ™idÃ¡na vÃ¡lka</li>
		</ul>
	</div>

	<div ng-switch-when="game">
		<div id="topBar" ng-style="style.gameWidth">
			<div id="suroviny" ng-style="style.suroviny">
				<div ng-repeat="i in icons" ng-class="{thisIsBad: isOverflow($index)}" ng-click="accessMine(mineNames[$index])"
					tooltip="{{(isOverflow($index) ? 'Je tÅ™eba dostavÄ›t sklad, kapacita je zcela naplnÄ›na!' : surNames[$index])}}">
					<img ng-src="res/GUI/icon_{{i}}.png">{{s.sur[$index].addk(1e4, 1e7)}}&nbsp;
				</div>
			</div>
			<div id="assistents">
				<img src="res/GUI/head_starosta.png" ng-click="tab('advisorEco')" class="clickImg" tooltip="Starosta">
				<img src="res/GUI/head_vojak.png" ng-click="tab('advisorArmy')" class="clickImg" tooltip="GenerÃ¡l">
				<img src="res/GUI/head_vedec.png" ng-click="tab('advisorScience')" class="clickImg" tooltip="VÄ›dec">
			</div>
		</div>

		<div id="screen" ng-switch="ctrl.tab" ng-style="screenStyle()">

		<!-- CITY -->
			<div ng-switch-when="city" ng-style="mergeStyles(['gameWidth', 'gameHeight', 'city'])">
				<img src="res/GUI/icon_island.png" class="switch clickImg" ng-click="tab('island')" tooltip="Ostrov">
				<img src="res/GUI/icon_build.png" style="margin: 5px;" ng-show="getAvailableBuild().length > 0" ng-click="ctrl2.showBuildingList = !ctrl2.showBuildingList" class="clickImg">

				<!-- existing buildings-->
				<img ng-repeat="b in sortBuildings() track by $index" ng-mousedown="buildingMouseDown($event, b)"
					ng-src="res/build/{{buildings[b.id].img}}" tooltip="{{buildings[b.id].name + ' (' + b.lvl + ')'}}"
					ng-style="getBuildingStyle(b)" ng-class="{building: b.draggable, clickImg: !b.draggable}">

				<!-- construction interface -->
				<div id="buildingList" ng-show="ctrl2.showBuildingList" ng-style="style.buildingList">
					<table>
						<tr ng-repeat="b in getAvailableBuild()">
							<td>
								<img ng-src="res/build/{{buildings[b].img}}" ng-click="buyBuilding(b)" class="clickImg buildOption">
							</td><td>
								<b>{{buildings[b].name}}</b>&nbsp;
								<span ng-repeat="i in icons" ng-if="buildings[b].price(1)[$index] > 0">
									<img ng-src="res/GUI/icon_{{i}}.png" width="16" height="16">
									{{buildings[b].price(1)[$index].toFixed(0)}}</span>
								<br>
								{{buildings[b].flavor}}
							</td>
						</tr>
					</table>
				</div>
			</div>

		<!-- ISLAND -->
			<div ng-switch-when="island" ng-style="mergeStyles(['gameWidth', 'gameHeight', 'island'])">
				<img src="res/GUI/icon_city.png" class="switch clickImg" ng-click="tab('city')" tooltip="MÄ›sto">

				<img src="res/env/prod_pila.png" ng-style="styleislandPila()" ng-click="accessMine('islandPila')" tooltip="Pila" class="clickImg">
				<img src="res/env/prod_kamen.png" ng-style="islandPos('plaz')" ng-click="accessMine('islandKamen')" tooltip="KamenitÃ¡ plÃ¡Å¾" class="clickImg">
				<img src="res/env/prod_syra.png" ng-style="islandPos('syra')" ng-click="accessMine('islandSyra')" tooltip="KrÃ¡vy" class="clickImg">
				<img src="res/env/prod_pivo.png" ng-style="islandPos('pivo')" ng-click="accessMine('islandPivo')" tooltip="PivnÃ­ ploÅ¡ina" class="clickImg">

				<img ng-src="res/env/polis_{{polisIcon()}}.png" ng-style="islandPos('myPolis')" ng-click="tab('city')" tooltip="NaÅ¡e mÄ›sto" class="clickImg">
				<span ng-style="islandPos('myPolisName')" class="strong clickImg" ng-click="tab('city')">{{s.name}}</span>
				<img src="res/env/polis_E.png" ng-style="islandPos('enemyPolis')" ng-click="tab('islandPolis')" tooltip="NepÅ™Ã¡telskÃ¡ vesnice" class="clickImg">
				<span ng-style="islandPos('enemyPolisName')" class="strong clickImg" ng-click="tab('islandPolis')">{{(s.battlefield && s.odys.wave === 0) ? 'ğŸ”¥' : '&nbsp;'}}Polis</span>

				<img ng-if="s.p.unlockOdysseia" src="res/env/odysseia.png" ng-style="islandPos('odysseia')" ng-click="tab('islandOdysseia')" tooltip="Hic sunt leones" class="clickImg">
			</div>

		<!-- BATTLE -->
			<div ng-switch-when="battle" ng-style="mergeStyles(['gameWidth', 'gameHeight'])" style="overflow: hidden">
				<escape></escape>
				<canvas width="600" height="600" ng-style="mergeStyles(['gameWidth', 'gameHeight'])" battle-canvas tooltip-field></canvas>
				<div ng-show="s.battlefield && s.battlefield.nukeDuration > 0" id="nukeEffect" ng-style="mergeStyles(['gameWidth', 'gameHeight'])"></div>
			</div>

		<!-- ADVISOR SCREEN TABS -->
			<div ng-switch-when="advisorEco" ng-style="screenStyle()">
				<escape></escape><!--directive for escape button-->
				<h2>EkonomickÃ½ pÅ™ehled</h2>
				<p>Starosta vÃ¡m pomÅ¯Å¾e s vydÄ›lÃ¡vÃ¡nÃ­m prachÅ¯ a managementem Å¡pinavÃ©ho plebsu.</p>
				<table class="numTable">
					<tr><th colspan="2">Finance</th></tr>
					<tr class="tip" tooltip="daÅˆovÃ­ poplatnÃ­ci Â· 3 Â· ÃºÄinnost vÃ½bÄ›ru">
						<td>DaÅˆovÃ½ vÃ½bÄ›r:</td>
						<td>{{demMulti([s.pop[0], consts.tax], [game.eff().prachy])}}</td>
					</tr>
					<tr class="tip" tooltip="dÄ›lnÃ­ci Â· 3 Â· vÃ½Å¡e platÅ¯">
						<td>Platy dÄ›lnÃ­kÅ¯:</td>
						<td>{{demMulti([(game.popTotal() - s.pop[0]), -consts.wage], [game.eff().plat])}}</td>
					</tr>
					<tr class="tip" tooltip="za vÅ¡echny budovy, roste exponenciÃ¡lnÄ› s ÃºrovnÃ­ budov">
						<td>ÃšdrÅ¾ba mÄ›sta:</td>
						<td>{{demMulti([-game.moneyMaintenance()/game.eff().udrzba], [game.eff().udrzba])}}</td>
					</tr>
					<tr class="tip" tooltip="celkovÃ¡ finanÄnÃ­ bilance za jeden cyklus"><td>&sum;</td><td>{{game.moneyTotal().withSign()}}</td></tr>
				</table>
				<table class="numTable tip" tooltip="dÄ›lnÃ­ci Â· ÃºÄinnost">
					<tr><th colspan="2">TÄ›Å¾ba</th></tr>
					<tr><td>DÅ™evo:</td>  <td>{{demMulti([s.pop[1]], [game.eff().drevo])}}</tr>
					<tr><td>KamenÃ­:</td> <td>{{demMulti([s.pop[2]], [game.eff().kamen])}}</tr>
					<tr><td>SÃ½ra:</td>   <td>{{demMulti([s.pop[3]], [game.eff().syra])}}</tr>
					<tr><td>Pivo:</td>   <td>{{demMulti([s.pop[4]], [game.eff().pivo])}}</tr>
				</table>
				<table class="numTable">
					<tr><th colspan="2">PrÅ¯zkum veÅ™ejnÃ©ho vygebenÃ­</th></tr>
					<tr><td>zÃ¡klad:  </td><td> {{game.happyBase().withSign()}}</td></tr>
					<tr><td>populace:</td><td> {{(-game.popTotal()).withSign()}}</td></tr>
					<tr ng-if="game.happyHospoda() > 0"> <td>pivo:</td>   <td>{{game.happyHospoda().withSign()}}</td></tr>
					<tr ng-if="game.happyMuzeum() > 0">  <td>muzeum:</td> <td>{{game.happyMuzeum().withSign()}}</td></tr>
					<tr ng-if="game.happySklad() < 0">   <td>sklad:</td>  <td>{{game.happySklad().withSign()}}</td></tr>
					<tr ng-if="game.happyPalac() < 0">   <td>palÃ¡c:</td>  <td>{{game.happyPalac().withSign()}}</td></tr>
					<tr class="tip" tooltip="celkovÃ¡ vygebenost">
						<td>&sum;</td>
						<td>{{game.realHappiness().withSign()}}</td>
					</tr>
					<tr class="tip" tooltip="rÅ¯st populace za jeden cyklus, poÄÃ­tÃ¡ se jako vygebenost / 50">
						<td>ğŸ™‚</td>
						<td>{{game.popGrowth().withSign()}}</td>
					</tr>
				</table>
			</div>

			<div ng-switch-when="advisorArmy" ng-style="screenStyle()">
				<escape></escape>
				<h2>StrategickÃ½ pÅ™ehled</h2>
				<p>GenerÃ¡l naplÃ¡nuje vÅ¡echna slavnÃ¡ vojenskÃ¡ taÅ¾enÃ­ a moÅ¾nÃ¡ nÄ›kdy i vyhraje.</p>
				<battle-management></battle-management>
				<div class="subTabContainer">
					<span class="subTab" ng-class="{subTabActive: !ctrl2.generalView}" ng-click="ctrl2.generalView = false">ArmÃ¡da ve mÄ›stÄ›</span>
					<span class="subTab" ng-class="{subTabActive: ctrl2.generalView}" ng-click="ctrl2.generalView = true">ZÃ¡znamy bitev</span>
				</div>
				<div ng-show="!ctrl2.generalView">
					<p>
						<span class="tip" tooltip="nÃ¡sobÃ­ Ãºtok vÅ¡ech naÅ¡ich jednotek">SÃ­la armÃ¡dy: {{game.eff().power.toPercent()}}</span>,
						<span class="tip" tooltip="nÃ¡sobÃ­ vydrancovanÃ© suroviny">ÃºÄinnost drancovÃ¡nÃ­: {{game.eff().dranc.toPercent()}}</span>
					</p>
					<p ng-if="armySum(s.army) === 0">
						NemÃ¡me vÅ¯bec Å¾Ã¡dnou armÃ¡du.. NaÅ¡e mÄ›sto je zcela nechrÃ¡nÄ›no a mÅ¯Å¾e se tedy stÃ¡t, Å¾e nebudeme moci dobÃ½vat nepÅ™Ã¡tele, plenit a loupit!<br>
						Tak honem do kasÃ¡rny, udÄ›lÃ¡me obÄanÅ¯m poÅ™Ã¡dnou vojnu.
					</p>
					<table class="compactTable">
						<tr ng-repeat="(i,n) in s.army" ng-if="n > 0">
							<td><img ng-src="res\unit\{{units[i].img}}"></td>
							<td><p>
								<b>{{units[i].name}} ({{n}} ks)</b><br>
								{{units[i].flavor + extraFlavor(i)}}<br>
								Ãštok: {{units[i].apparentAtt ? units[i].apparentAtt() : units[i].att}}, vÃ½drÅ¾: {{units[i].hp}}
							</p></td>
						</tr>
					</table>
				</div>
				<battle-reports ng-show="ctrl2.generalView"></battle-reports>
			</div>

			<div ng-switch-when="advisorScience" ng-style="screenStyle()">
				<escape></escape>
				<h2>VÃ½zkumnÃ½ pÅ™ehled</h2>
				<p>VÄ›dec vÃ¡m vynalezne nejrÅ¯znÄ›jÅ¡Ã­ technologie â€“ uÅ¾iteÄnÃ¡ hnojiva i Å¡Ã­lenÃ© rovnice!</p>
				<p ng-if="!isAllWis()">
					PoÄet vÃ½zkumnÃ½ch bodÅ¯: ğŸ’¡{{s.WP.addk(1e7, 1e7)}}<br>
					<span class="tip" tooltip="poÄet vÃ½zkumnÃ½ch bodÅ¯ za jeden cyklus">Rychlost vÃ½zkumu: {{game.rateWP()}}</span>
				</p>
				<div ng-repeat="g in WPgroups" ng-if="!isAllWis()">
					<p><b>{{WPgroupNames[$index]}}</b></p>
					<div ng-repeat="w in getAvailableWis(g)" style="padding-left: 20px;">
						<p><a class="fakeLink" ng-click="game.buyResearch(w)">{{w.name}}</a> ğŸ’¡{{w.cost}}<br>
						{{w.teaser}}</p>
					</div>
				</div>
				<div ng-if="s.p.unlockDoge" style="padding-left: 5px" class="clickImg" ng-click="dogeClic()">
					<img ng-src="{{dogeSRC()}}" ng-style="{transform: 'scaleY('+(s.p.unlockDoge%2*2-1)+')'}">
				</div>
			</div>

		<!-- CITY SCREEN TABS -->
			<div ng-switch-when="radnice" ng-style="screenStyle()">
				<escape></escape>
				<building-details key="ctrl.tab"></building-details>
				<hr>
				<p><b>PÅ™ehled mÄ›sta {{s.name}}:</b> <a ng-click="renameCity()" class="fakeLink">pÅ™ejmenovat</a></p>
				<p>
					<p><span class="tip" tooltip="celkovÃ¡ populace vÄetnÄ› dÄ›lnÃ­kÅ¯">
						Populace: {{game.popTotal()}}
					</span></p>
					<p><span class="tip" tooltip="volnÃ¡ mÃ­sta na zÃ¡chodech radnice" ng-class="{thisIsBad: game.popLimit() <= game.popTotal()}">
						PopulaÄnÃ­ limit: {{game.popLimit()}}
					</span></p>
					<p><span class="tip" tooltip="mÃ­ra vytlemenosti obyvatel, urÄuje rÅ¯st populace">
						Vygebenost: {{game.realHappiness()}}
					</span></p>
					<p><span class="tip" tooltip="rÅ¯st populace za jeden cyklus, poÄÃ­tÃ¡ se jako vygebenost / 50" ng-class="{thisIsBad: game.popGrowth() < 0}">
						RÅ¯st populace: {{game.popGrowth().withSign()}}
					</span></p>
					<p>Od zaloÅ¾enÃ­ mÄ›sta dne {{getFoundationDate()}} uplynulo {{s.iteration}} cyklÅ¯.</p>
				</p>
			</div>

			<div ng-switch-when="skola" ng-style="screenStyle()">
				<escape></escape>
				<building-details key="ctrl.tab"></building-details>
				<hr>
				<p>
					Å kola vytvÃ¡Å™Ã­ vÃ½zkumnÃ© body, vÃ½zkumy se pak kupujÃ­ v oknÄ› vÄ›dce<br>
					PoÄet vÃ½zkumnÃ½ch bodÅ¯: ğŸ’¡{{s.WP.addk(1e7, 1e7)}}<br>
					<span class="tip" tooltip="poÄet vÃ½zkumnÃ½ch bodÅ¯ za jeden cyklus">Rychlost zÃ­skÃ¡vÃ¡nÃ­ bodÅ¯:
					{{demMulti([game.rateWP()/game.eff().skola], [game.eff().skola]) }}</span>
				</p>
			</div>

			<div ng-switch-when="pristav" ng-style="screenStyle()">
				<escape></escape>
				<building-details key="ctrl.tab"></building-details>
				<hr>
				<trade-slider></trade-slider>
			</div>

			<div ng-switch-when="kasarna" ng-style="screenStyle()">
				<escape></escape>
				<building-details key="ctrl.tab"></building-details>
				<training building="'kasarna'"></training>
			</div>

			<div ng-switch-when="sklad" ng-style="screenStyle()">
				<escape></escape>
				<building-details key="ctrl.tab"></building-details>
				<hr>
				<p>Kapacita surovin (kromÄ› zlata):</p>
					<table class="numTable">
					<tr><td>ZÃ¡klad</td><td>{{consts.baseSklad}}</td></tr>
					<tr><td>Sklad</td><td>{{game.storage() - consts.baseSklad}}</td></tr>
					<tr><td>&sum;</td><td>{{game.storage()}}</td></tr>
					</table>
				<p>ObÄanÅ¯m se vÅ¡ak tato ÃºÅ¾asnÃ¡ hospodÃ¡Å™skÃ¡ struktura oÅ¡klivÃ­, coÅ¾ vyjadÅ™ujÃ­ -50 vygebenostÃ­ za kaÅ¾dou ÃºroveÅˆ.</p>
			</div>

			<div ng-switch-when="hospoda" ng-style="screenStyle()">
				<escape></escape>
				<building-details key="ctrl.tab"></building-details>
				<hr>
				<p>
					RozÅ¡Ã­Å™enÃ­ zahrÃ¡dky, baru a posÃ­lenÃ­ obsluhy nÃ¡m umoÅ¾Åˆuje zvÃ½Å¡it pravidelnÃ½ pÅ™Ã­dÄ›l piva, pÅ™iÄemÅ¾ kaÅ¾dÃ¡ ÃºroveÅˆ pÅ™Ã­dÄ›lu piva vygebÃ­ obyvatelstvo o 150.
				</p><p>
					<img src="res/GUI/icon_pivo.png">&nbsp;
					<input type="range" class="distributeSlider" step="1" min="0" max="{{game.getBlvl('hospoda')}}" ng-model="getSetBeer" ng-model-options="{getterSetter: true}">
				</p><p>
					NastavenÃ½ pÅ™Ã­dÄ›l: <b>{{game.pridelHospoda()}}</b><br>
					Bonus vygebenosti: +{{game.happyHospoda()}}<br>
					CelkovÃ¡ vygebenost: {{game.realHappiness()}}
				</p>
				<div ng-if="s.p.unlockOktoberfest" style="text-align: center;">
					<div style="height: 50px"></div>
					<p class="strong">Oktoberfest, Äili slavnost piva v zÃ¡Å™Ã­</p>
					<p>
						ZpÅ¯sobÃ­ krÃ¡tkodobÃ©, leÄ velice intenzivnÃ­ vygebenÃ­.</p><p>
						SpoleÄnost si vÅ¡ak zÃ­skÃ¡vÃ¡ toleranci, takÅ¾e je tÅ™eba aplikovat stÃ¡le vÄ›tÅ¡Ã­ dÃ¡vky,<br>a nebo delÅ¡Ã­ dobu poÄkat, aby se z toho jÃ¡tra opÄ›t vzpamatovala.
					</p>
					<p>
						<img src="res/GUI/icon_pivo.png" width="16" height="16"> {{(consts.oktoberfest.base * s.oktoberfest).toFixed(0)}}
						<input type="button" ng-click="game.oktoberfest()" value="ZahÃ¡jit">
					</p>
				</div>
			</div>

			<div ng-switch-when="dilna" ng-style="screenStyle()">
				<escape></escape>
				<building-details key="ctrl.tab"></building-details>
				<training building="'dilna'"></training>
			</div>

			<div ng-switch-when="zkusebna" ng-style="screenStyle()">
				<escape></escape>
				<building-details key="ctrl.tab"></building-details>
				<training building="'zkusebna'"></training>
				<div ng-if="s.p.unlockNuke" style="text-align: center;">
					<div style="height: 30px"></div>
					<p><span class="strong">NovoroÄnÃ­ ohÅˆostroj</span> <span style="font-size: 40px">â˜¢</span></p>
					<div ng-if="s.ownNuke">
						<p>Rachejtle jsou pÅ™ipraveny a bezpeÄnÄ› uloÅ¾eny.</p>
						<p>NejlepÅ¡Ã­ bude odpÃ¡lit je bÄ›hem probÃ­hajÃ­cÃ­ bitvy, aby ani sousedÃ© nepÅ™iÅ¡li o tuto velkolepou podÃ­vanou! <i>(v oknÄ› generÃ¡la nebo nepÅ™Ã¡telskÃ© vesnice)</i></p>
					</div>

					<div ng-if="!s.ownNuke && s.nukeCooldown > 0">
						<p>OhÅˆostroj byl nedÃ¡vno vyuÅ¾it a neÅ¾ budeme moci koupit dalÅ¡Ã­, bude tÅ™eba uklidit vÅ¡echny ty sÃ½rou smrdÃ­cÃ­ doutnajÃ­cÃ­ odpadky.</p>
						<p>Ãšklid bude trvat jeÅ¡tÄ› {{s.nukeCooldown}} cyklÅ¯ (vylepÅ¡enÃ­m zkuÅ¡ebny se ÄekacÃ­ doba zkrÃ¡tÃ­)</p>
					</div>

					<div ng-if="!s.ownNuke && s.nukeCooldown === 0">
						<p>Zde mÅ¯Å¾eme zakoupit ohÅˆostroj na rÅ¯znÃ©, ehm, oslavy. Bude to velmi zÃ¡bavnÃ©!</p>
						<p>
							<img src="res/GUI/icon_zlato.png" width="16" height="16"> {{consts.nukePrice[0]}}
							<img src="res/GUI/icon_syra.png" width="16" height="16">  {{consts.nukePrice[3]}}
							<input type="button" ng-click="game.buyNuke()" value="Koupit">
						</p>
					</div>
				</div>
			</div>

			<div ng-switch-when="palac" ng-style="screenStyle()">
				<escape></escape>
				<building-details key="ctrl.tab"></building-details>
				<hr>
				<p>S kaÅ¾dou ÃºrovnÃ­ palÃ¡ce se mi Å¾ije o dost lÃ©pe a naÅ¡e Å™Ã­Å¡e je mocnÄ›jÅ¡Ã­.</p>
				<p>ÃšÄinky kaÅ¾dÃ© ÃºrovnÄ›:
					<ul>
						<li>+10% vÃ½bÄ›r danÃ­</li>
						<li>+10% tÄ›Å¾ba dÅ™eva</li>
						<li>+5% tÄ›Å¾ba kamenÃ­, sÃ½ry a piva</li>
						<li>-5% ÃºdrÅ¾ba mÄ›sta</li>
						<li>-5% plat dÄ›lnÃ­kÅ¯</li>
						<li>-100 vygebenost</li>
					</ul>
				</p>
			</div>

			<div ng-switch-when="muzeum" ng-style="screenStyle()">
				<escape></escape>
				<building-details key="ctrl.tab"></building-details>
				<hr>
				<p>Muzeum zlepÅ¡uje dopravnÃ­ obsluÅ¾nost mÄ›sta, coÅ¾ obyvatelÃ© pÅ™ijÃ­majÃ­ s povdÄ›kem a ocenÃ­ to zvÃ½Å¡enÃ­m svÃ© vygebenosti o 100 za kaÅ¾dou ÃºroveÅˆ.</p>
				<div ng-if="s.odys.relics.length > 0">
					<p>ProtoÅ¾e je tohle sklepenÃ­ jinak dost nevyuÅ¾itÃ©, mÅ¯Å¾eme tady tÅ™eba uskladnit rÅ¯znÃ© suvenÃ½ry, co jsme pÅ™itÃ¡hli z naÅ¡ich vÃ¡leÄnÃ½ch expedic do odlehlÃ½ch dÃ¡lav:</p>
					<img class="relic buildOption" ng-repeat="r in s.odys.relics" ng-src="res/relics/{{relics[r].img}}" ng-mouseover="ctrl2.relicSelect=r" ng-mouseleave="ctrl2.relicSelect=false">
					<div ng-if="ctrl2.relicSelect" style="text-align: center">
						<p><b>{{relics[ctrl2.relicSelect].name}}</b></p><p>{{relics[ctrl2.relicSelect].flavor}}</p><p>{{relics[ctrl2.relicSelect].effect}}</p>
					</div>
				</div>
			</div>

			<div ng-switch-when="kostel" ng-style="screenStyle()">
				<escape></escape>
				<building-details key="ctrl.tab"></building-details>
				<p>
					ÃšroveÅˆ kostela zesiluje efekt zÃ¡zrakÅ¯ a sniÅ¾uje dobu ÄekÃ¡nÃ­ na dalÅ¡Ã­ rituÃ¡l.<br>
					ZÃ­skanÃ½ zÃ¡zrak je ovÅ¡em vÅ¾dy nÃ¡hodnÃ½, nÄ›kdy pozitivnÃ­, nÄ›kdy negativnÃ­.
				</p>
				<hr>
				<div ng-if="s.mirCountdown > 0">
					<p><b>{{miracles[s.miracle].name}}</b>, nad nÃ¡mi bude opatrovat jeÅ¡tÄ› {{s.mirCountdown}} cyklÅ¯.</p>
					<p>{{miracles[s.miracle].flavor}}</p>
					<p>{{miracles[s.miracle].description(game.getBlvl('kostel')+consts.rel.necro*game.hasRelic('necro'))}}</p>
				</div>

				<div ng-if="s.mirCountdown === 0 && s.mirCooldown > 0">
					<p class="strong">ProvÃ©st obÄ›Å¥ bohÅ¯m</p>
					<p>NaÅ¡i knÄ›Å¾Ã­ jsou zcela vyÄerpÃ¡nÃ­ po zvrÃ¡cenÃ½ch satanistickÃ½ch orgiÃ­ch ğŸ˜ˆ<br>
					Bude trvat jeÅ¡tÄ› {{s.mirCooldown}} cyklÅ¯, neÅ¾ se budeme moci opÄ›t ÃºÄinnÄ› rouhat.</p>
				</div>

				<div ng-if="s.mirCountdown === 0 && s.mirCooldown === 0" style="text-align: center;">
					<p class="strong">ProvÃ©st obÄ›Å¥ bohÅ¯m</p>
					<p>ğŸ™‚ {{consts.mirPrice.pop}} <img src="res/GUI/icon_zlato.png" width="16" height="16"> {{consts.mirPrice.zlato}}</p>
					<img src="res/GUI/darkritual.png" class="clickImg" id="darkritual" ng-click="game.darkRitual()">
				</div>
			</div>

		<!-- ISLAND SCREEN TABS -->
			<div ng-switch-when="islandPila" ng-style="screenStyle()">
				<escape></escape>
				<h2>Pila</h2>
				<p>MoÅ¾nÃ¡ to mnohÃ© pÅ™ekvapÃ­, ale tento neobvyklÃ½ prÅ¯myslovÃ½ areÃ¡l ve skuteÄnosti slouÅ¾Ã­ ke zpracovÃ¡nÃ­ pokÃ¡cenÃ½ch stromÅ¯ na prkna.</p>
				<resource-slider i="1"></resource-slider>
			</div>

			<div ng-switch-when="islandKamen" ng-style="screenStyle()">
				<escape></escape>
				<h2>PlÃ¡Å¾</h2>
				<p>KamenitÃ¡ plÃ¡Å¾, kde mÅ¯Å¾eme sbÃ­rat oblÃ¡zky na dekoraci mÄ›stskÃ½ch staveb. MoÅ¾nÃ¡ by se Å¡utry daly i tÄ›Å¾it ze skÃ¡ly, ale to by dalo moc prÃ¡ce.</p>
				<resource-slider i="2"></resource-slider>
			</div>

			<div ng-switch-when="islandSyra" ng-style="screenStyle()">
				<escape></escape>
				<h2>KravÃ­n</h2>
				<p>ProslunÄ›nÃ¡ louka se svÄ›Å¾Ã­ trÃ¡vou, kde se pasou krÃ¡vy. MÅ¯Å¾eme z nich dojit Äerstvou sÃ½ru pro naÅ¡e vÃ¡leÄnÃ© operace.</p>
				<resource-slider i="3"></resource-slider>
			</div>

			<div ng-switch-when="islandPivo" ng-style="screenStyle()">
				<escape></escape>
				<h2>PivnÃ­ ploÅ¡ina</h2>
				<p>HlubokÃ½m vrtem se zde tÄ›Å¾Ã­ pivnÃ­ vrstva leÅ¾Ã­cÃ­ pod moÅ™skÃ½m dnem.
				Ta dle povÄ›stÃ­ vznikla, kdyÅ¾ Zeus jednou pÅ™iÅ¡el domÅ¯ nakalenÃ½ jak prase a HÃ©ru tak vytoÄil, Å¾e mu vÅ¡echny sudy s pivem skopla z Olympu aÅ¾ do moÅ™e.
				Po tÄ›ch letech je z toho sice hnusnÃ¡ bÅ™eÄka, ale nÄ›jakÃ½ alkohol v tom je, takÅ¾e to lidÃ© rÃ¡di vychlastaj.</p>
				<resource-slider i="4"></resource-slider>
			</div>

			<div ng-switch-when="islandPolis" ng-style="screenStyle()">
				<escape></escape>
				<h2>Polis</h2>
				<p>NepÅ™Ã¡telskÃ¡ vesnice, kterÃ¡ jistÄ› skrÃ½vÃ¡ ohromnÃ© bohatstvÃ­ zralÃ© k uloupenÃ­!</p>
				<!-- no can do, is odysseia lobby/battle -->
				<p ng-if="s.odys.wave > 0">
					AvÅ¡ak nemÅ¯Å¾eme pÅ™eci vyvolÃ¡vat malichernÃ© sousedskÃ© Å¡arvÃ¡tky, zatÃ­mco naÅ¡i hrdinovÃ© trpÃ­ kdesi za sedmero moÅ™i!
					Asi je to poÅ™Ã¡d lepÅ¡Ã­ neÅ¾ uspoÅ™Ã¡dat pÃ¡rty pro Å¾enichy uchÃ¡zejÃ­cÃ­ se o jejich manÅ¾elky, ale stejnÄ›, troÅ¡ku respektu...
				</p>
				<!-- can start, is peace -->
				<div ng-if="!s.battlefield && s.odys.wave === 0">
					<p class="strong" ng-click="game.war.initBattle('polis')">âš”ï¸ <a class="fakeLink">ZaÃºtoÄit</a> (ÃºroveÅˆ {{s.enemyLevel+1}})</p>
					<p></p>
					<p></p>
					<p class="fakeLink tip" ng-click="tab('battleTutorial')" style="font-size: 13px;">Jak bojovat?</p>
				</div>
				<!-- is polis battle -->
				<battle-management type="polis"></battle-management>
			</div>

			<div ng-switch-when="islandOdysseia" ng-style="screenStyle()">
				<escape></escape>
				<h2>Odysseia</h2>
				<p>NaÅ¡e lodÄ› se dÃ­ky hexametrickÃ©mu pohonu dostanou za hranice znÃ¡mÃ©ho svÄ›ta do krajin mytickÃ½ch, kde na nÃ¡s jistÄ› ÄekajÃ­ poklady o jakÃ½ch se nÃ¡m ani nesnilo!</p>
				<!-- no can do, is polis battle -->
				<p ng-if="s.battlefield && s.odys.wave === 0">AvÅ¡ak nemÅ¯Å¾eme pÅ™eci posÃ­lat vojÃ¡ky na nÄ›jakÃ½ nesmyslnÃ½ vÃ½let do zÃ¡moÅ™Ã­, zatÃ­mco doma nÃ¡m zuÅ™Ã­ totÃ¡lnÃ­ vÃ¡lka!</p>
				<!-- can start, is peace -->
				<p ng-if="!s.battlefield && s.odys.wave === 0" class="strong" ng-click="game.war.advanceOdys()" tooltip="Pozor, naÅ¡e armÃ¡da tam moÅ¾nÃ¡ heroicky zhyne tragickou smrtÃ­!">âš“ <a class="fakeLink">Vydat se na Odysseu</a></p>
				<!-- is odysseia lobby -->
				<div ng-if="!s.battlefield && s.odys.wave > 0">
					<p>NaÅ¡i hrdinovÃ© pÅ™eÄkali nÃ¡strahy {{s.odys.wave-1}}. ostrova a celkem vymlÃ¡tili epickÃ© skÃ³re {{s.odys.score}}</p>
					<p>PomocÃ­ palubnÃ­ palÃ¡c-antÃ©ny nÃ¡m hlasÃ­, Å¾e dalÅ¡Ã­ ostrov obÃ½vajÃ­ {{odyssets[s.odys.race].name}}.
					NaÅ¡e druÅ¾ina jen ÄekÃ¡ na pokyn k dalÅ¡Ã­mu vylodÄ›nÃ­!</p>
					<p ng-if="s.odys.wave > consts.odys.retreatWave && !odysDraw()">VojÃ¡ci uÅ¾ se velice dlouho vlekou od ostrova k ostrovu. Jsou vyÄerpanÃ­, zuboÅ¾enÃ­ a hlavnÄ› obtÃ­Å¾enÃ­ skvostnou koÅ™istÃ­!
						VlÃ¡dce rybnÃ­kÅ¯ se nad nimi snad smiluje, kdyÅ¾ mu obÄ›tujÃ­ {{consts.odys.retreatribute.toPercent()}} ze svÃ©ho tuÄnÃ©ho lupu, a umoÅ¾nÃ­ jim bezpeÄnÃ½ nÃ¡vrat domÅ¯.</p>
					<p class="strong">âš“ <a class="fakeLink"  ng-click="game.war.advanceOdys()">PokraÄovat v Odyssei</a></p>
					<p ng-if="s.odys.wave > consts.odys.retreatWave || odysDraw()">ğŸ³ï¸&nbsp;&nbsp;&nbsp;<a class="fakeLink" ng-click="game.war.loseOdys(true, !odysDraw())">NÃ¡vrat domÅ¯</a></p>
						<!-- retreat also possible when battle ends up as a draw (extremely rare occurence!!), then it ends honorably w/o the retreat penalty-->
				</div>
				<!-- is odysseia battle -->
				<battle-management type="odys"></battle-management>
				<p ng-if="s.p.unlockAutoodys">PokraÄovat automaticky na dalÅ¡Ã­ ostrov <input type="checkbox" ng-model="ctrl.autoodys"></p>
			</div>

			<div ng-switch-when="battleTutorial" ng-style="screenStyle()">
				<escape></escape>
				<div ng-include="'app/ng/battleTutorial.html'"></div>
			</div>

		</div>
	</div>
</div>

<div id="footer" ng-style="style.footer">
	VytvoÅ™il <a href="http://jira.zby.cz/">JiÅ™Ã­ ZbytovskÃ½</a> v letech 2019-2022 za pouÅ¾itÃ­ <a href="https://angularjs.org/" target="_blank">AngularJS</a><br>
	Za pomoc s grafikou dÄ›kuji Martinu Machovi
</div>

	</body>
</html>
